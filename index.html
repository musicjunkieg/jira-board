<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Jira Kanban Board Mockup Tool</title>
    <link rel="stylesheet" href="styles.css">
</head>
<body>
    <!-- Header -->
    <header class="jira-header">
        <div class="header-left">
            <button class="menu-toggle" id="menuToggle" aria-label="Toggle menu">
                <span></span>
                <span></span>
                <span></span>
            </button>
            <div class="logo">
                <svg viewBox="0 0 32 32" width="24" height="24">
                    <defs>
                        <linearGradient id="blue-gradient" x1="0%" y1="0%" x2="100%" y2="100%">
                            <stop offset="0%" style="stop-color:#2684FF"/>
                            <stop offset="100%" style="stop-color:#0052CC"/>
                        </linearGradient>
                    </defs>
                    <path fill="url(#blue-gradient)" d="M15.967 0C7.147 0 0 7.147 0 15.967s7.147 15.967 15.967 15.967 15.967-7.147 15.967-15.967S24.787 0 15.967 0zm0 27.2c-6.2 0-11.233-5.033-11.233-11.233S9.767 4.734 15.967 4.734 27.2 9.767 27.2 15.967 22.167 27.2 15.967 27.2z"/>
                    <path fill="url(#blue-gradient)" d="M21.867 10.133H10.133v11.734h11.734V10.133zm-2.934 8.8h-5.866v-5.866h5.866v5.866z"/>
                </svg>
                <span>Jira Kanban Mockup</span>
            </div>
            <!-- View Tabs -->
            <div class="view-tabs">
                <button class="view-tab" data-view="backlog">Backlog</button>
                <button class="view-tab active" data-view="board">Board</button>
            </div>
        </div>
        <div class="header-center">
            <div class="board-name" contenteditable="true" id="boardName">My Kanban Board</div>
        </div>
        <div class="header-right">
            <button class="btn btn-icon" id="settingsBtn" title="Board Settings">
                <svg viewBox="0 0 24 24" width="20" height="20" fill="currentColor">
                    <path d="M19.14 12.94c.04-.31.06-.63.06-.94 0-.31-.02-.63-.06-.94l2.03-1.58c.18-.14.23-.41.12-.61l-1.92-3.32c-.12-.22-.37-.29-.59-.22l-2.39.96c-.5-.38-1.03-.7-1.62-.94l-.36-2.54c-.04-.24-.24-.41-.48-.41h-3.84c-.24 0-.43.17-.47.41l-.36 2.54c-.59.24-1.13.57-1.62.94l-2.39-.96c-.22-.08-.47 0-.59.22L2.74 8.87c-.12.21-.08.47.12.61l2.03 1.58c-.04.31-.06.63-.06.94s.02.63.06.94l-2.03 1.58c-.18.14-.23.41-.12.61l1.92 3.32c.12.22.37.29.59.22l2.39-.96c.5.38 1.03.7 1.62.94l.36 2.54c.05.24.24.41.48.41h3.84c.24 0 .44-.17.47-.41l.36-2.54c.59-.24 1.13-.56 1.62-.94l2.39.96c.22.08.47 0 .59-.22l1.92-3.32c.12-.22.07-.47-.12-.61l-2.01-1.58zM12 15.6c-1.98 0-3.6-1.62-3.6-3.6s1.62-3.6 3.6-3.6 3.6 1.62 3.6 3.6-1.62 3.6-3.6 3.6z"/>
                </svg>
            </button>
            <button class="btn btn-icon" id="exportBtn" title="Export Board">
                <svg viewBox="0 0 24 24" width="20" height="20" fill="currentColor">
                    <path d="M19 9h-4V3H9v6H5l7 7 7-7zM5 18v2h14v-2H5z"/>
                </svg>
            </button>
            <button class="btn btn-icon" id="importBtn" title="Import Board">
                <svg viewBox="0 0 24 24" width="20" height="20" fill="currentColor">
                    <path d="M9 16h6v-6h4l-7-7-7 7h4v6zm-4 2h14v2H5v-2z"/>
                </svg>
            </button>
            <input type="file" id="importFile" accept=".json" style="display: none;">
        </div>
    </header>

    <!-- Toolbar -->
    <div class="toolbar">
        <div class="toolbar-left">
            <div class="quick-filters">
                <span class="filter-label">Quick Filters:</span>
                <button class="filter-btn active" data-filter="all">All Issues</button>
                <button class="filter-btn" data-filter="my">My Issues</button>
                <button class="filter-btn" data-filter="recent">Recently Updated</button>
            </div>
        </div>
        <div class="toolbar-right">
            <div class="search-box">
                <svg viewBox="0 0 24 24" width="16" height="16" fill="currentColor">
                    <path d="M15.5 14h-.79l-.28-.27C15.41 12.59 16 11.11 16 9.5 16 5.91 13.09 3 9.5 3S3 5.91 3 9.5 5.91 16 9.5 16c1.61 0 3.09-.59 4.23-1.57l.27.28v.79l5 4.99L20.49 19l-4.99-5zm-6 0C7.01 14 5 11.99 5 9.5S7.01 5 9.5 5 14 7.01 14 9.5 11.99 14 9.5 14z"/>
                </svg>
                <input type="text" id="searchInput" placeholder="Search issues...">
            </div>
            <button class="btn btn-primary" id="addIssueBtn">
                <svg viewBox="0 0 24 24" width="16" height="16" fill="currentColor">
                    <path d="M19 13h-6v6h-2v-6H5v-2h6V5h2v6h6v2z"/>
                </svg>
                Create Issue
            </button>
            <button class="btn btn-secondary" id="addColumnBtn">
                <svg viewBox="0 0 24 24" width="16" height="16" fill="currentColor">
                    <path d="M19 13h-6v6h-2v-6H5v-2h6V5h2v6h6v2z"/>
                </svg>
                Add Column
            </button>
        </div>
    </div>

    <!-- Swimlane Toggle -->
    <div class="swimlane-controls">
        <label class="toggle-label">
            <input type="checkbox" id="swimlaneToggle">
            <span class="toggle-slider"></span>
            <span>Group by Swimlanes</span>
        </label>
        <select id="swimlaneType" disabled>
            <option value="component">Component</option>
            <option value="assignee">Assignee</option>
            <option value="priority">Priority</option>
            <option value="epic">Epic</option>
        </select>
    </div>

    <!-- Board Container -->
    <main class="board-container" id="boardContainer">
        <div class="board" id="board">
            <!-- Columns will be generated dynamically -->
        </div>
    </main>

    <!-- Backlog Container -->
    <main class="backlog-container" id="backlogContainer" style="display: none;">
        <!-- Backlog Toolbar -->
        <div class="backlog-toolbar">
            <div class="backlog-toolbar-left">
                <div class="bulk-actions" id="bulkActions" style="display: none;">
                    <span class="selected-count" id="selectedCount">0 selected</span>
                    <button class="btn btn-sm btn-secondary" id="bulkMoveToBoard">
                        <svg viewBox="0 0 24 24" width="14" height="14" fill="currentColor">
                            <path d="M4 11h12v2H4v-2zm0-4h12v2H4V7zm0 8h8v2H4v-2zm13 0v-4l5 5-5 5v-4h-3v-2h3z"/>
                        </svg>
                        Send to Board
                    </button>
                    <button class="btn btn-sm btn-secondary" id="bulkAssign">
                        <svg viewBox="0 0 24 24" width="14" height="14" fill="currentColor">
                            <path d="M12 12c2.21 0 4-1.79 4-4s-1.79-4-4-4-4 1.79-4 4 1.79 4 4 4zm0 2c-2.67 0-8 1.34-8 4v2h16v-2c0-2.66-5.33-4-8-4z"/>
                        </svg>
                        Assign
                    </button>
                    <button class="btn btn-sm btn-danger" id="bulkDelete">
                        <svg viewBox="0 0 24 24" width="14" height="14" fill="currentColor">
                            <path d="M6 19c0 1.1.9 2 2 2h8c1.1 0 2-.9 2-2V7H6v12zM19 4h-3.5l-1-1h-5l-1 1H5v2h14V4z"/>
                        </svg>
                        Delete
                    </button>
                    <button class="btn btn-sm" id="clearSelection">Clear</button>
                </div>
                <div class="backlog-filters" id="backlogFilters">
                    <select id="backlogComponentFilter" class="filter-select">
                        <option value="">All Components</option>
                        <option value="Internal">Internal</option>
                        <option value="Client">Client</option>
                        <option value="Service">Service</option>
                    </select>
                    <select id="backlogTypeFilter" class="filter-select">
                        <option value="">All Types</option>
                        <option value="story">Story</option>
                        <option value="bug">Bug</option>
                        <option value="task">Task</option>
                        <option value="epic">Epic</option>
                        <option value="subtask">Sub-task</option>
                    </select>
                    <select id="backlogAssigneeFilter" class="filter-select">
                        <option value="">All Assignees</option>
                        <option value="unassigned">Unassigned</option>
                        <option value="john">John Doe</option>
                        <option value="jane">Jane Smith</option>
                        <option value="bob">Bob Johnson</option>
                        <option value="alice">Alice Williams</option>
                    </select>
                </div>
            </div>
            <div class="backlog-toolbar-right">
                <div class="backlog-search">
                    <svg viewBox="0 0 24 24" width="16" height="16" fill="currentColor">
                        <path d="M15.5 14h-.79l-.28-.27C15.41 12.59 16 11.11 16 9.5 16 5.91 13.09 3 9.5 3S3 5.91 3 9.5 5.91 16 9.5 16c1.61 0 3.09-.59 4.23-1.57l.27.28v.79l5 4.99L20.49 19l-4.99-5zm-6 0C7.01 14 5 11.99 5 9.5S7.01 5 9.5 5 14 7.01 14 9.5 11.99 14 9.5 14z"/>
                    </svg>
                    <input type="text" id="backlogSearchInput" placeholder="Search backlog...">
                </div>
                <button class="btn btn-primary" id="addBacklogIssue">
                    <svg viewBox="0 0 24 24" width="16" height="16" fill="currentColor">
                        <path d="M19 13h-6v6h-2v-6H5v-2h6V5h2v6h6v2z"/>
                    </svg>
                    Create Issue
                </button>
            </div>
        </div>

        <!-- Backlog Content -->
        <div class="backlog-content">
            <!-- Backlog List -->
            <div class="backlog-list-container">
                <div class="backlog-header">
                    <div class="backlog-header-cell checkbox-cell">
                        <input type="checkbox" id="selectAllBacklog" title="Select all">
                    </div>
                    <div class="backlog-header-cell rank-cell">Rank</div>
                    <div class="backlog-header-cell type-cell">T</div>
                    <div class="backlog-header-cell key-cell">Key</div>
                    <div class="backlog-header-cell summary-cell">Summary</div>
                    <div class="backlog-header-cell component-cell">Component</div>
                    <div class="backlog-header-cell priority-cell">P</div>
                    <div class="backlog-header-cell status-cell">Status</div>
                    <div class="backlog-header-cell assignee-cell">Assignee</div>
                    <div class="backlog-header-cell estimate-cell">SP</div>
                </div>
                <div class="backlog-list" id="backlogList">
                    <!-- Backlog items will be generated dynamically -->
                </div>
                <div class="backlog-empty" id="backlogEmpty" style="display: none;">
                    <svg viewBox="0 0 24 24" width="48" height="48" fill="currentColor">
                        <path d="M19 3H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zm-5 14H7v-2h7v2zm3-4H7v-2h10v2zm0-4H7V7h10v2z"/>
                    </svg>
                    <p>No issues in backlog</p>
                    <span>Create an issue or move issues from the board</span>
                </div>
            </div>

            <!-- Issue Detail Panel -->
            <div class="issue-detail-panel" id="issueDetailPanel">
                <div class="detail-panel-header">
                    <div class="detail-issue-key" id="detailIssueKey">PROJ-1</div>
                    <div class="detail-actions">
                        <button class="btn btn-icon btn-sm" id="detailSendToBoard" title="Send to Board">
                            <svg viewBox="0 0 24 24" width="18" height="18" fill="currentColor">
                                <path d="M4 11h12v2H4v-2zm0-4h12v2H4V7zm0 8h8v2H4v-2zm13 0v-4l5 5-5 5v-4h-3v-2h3z"/>
                            </svg>
                        </button>
                        <button class="btn btn-icon btn-sm" id="detailEditIssue" title="Edit Issue">
                            <svg viewBox="0 0 24 24" width="18" height="18" fill="currentColor">
                                <path d="M3 17.25V21h3.75L17.81 9.94l-3.75-3.75L3 17.25zM20.71 7.04c.39-.39.39-1.02 0-1.41l-2.34-2.34c-.39-.39-1.02-.39-1.41 0l-1.83 1.83 3.75 3.75 1.83-1.83z"/>
                            </svg>
                        </button>
                        <button class="btn btn-icon btn-sm" id="closeDetailPanel" title="Close">
                            <svg viewBox="0 0 24 24" width="18" height="18" fill="currentColor">
                                <path d="M19 6.41L17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"/>
                            </svg>
                        </button>
                    </div>
                </div>
                <div class="detail-panel-body">
                    <div class="detail-summary" id="detailSummary">Issue Summary</div>
                    <div class="detail-description" id="detailDescription">
                        <h4>Description</h4>
                        <p id="detailDescriptionText">No description</p>
                    </div>
                    <div class="detail-fields">
                        <div class="detail-field">
                            <label>Type</label>
                            <span id="detailType" class="detail-value"></span>
                        </div>
                        <div class="detail-field">
                            <label>Priority</label>
                            <span id="detailPriority" class="detail-value"></span>
                        </div>
                        <div class="detail-field">
                            <label>Component</label>
                            <span id="detailComponent" class="detail-value"></span>
                        </div>
                        <div class="detail-field">
                            <label>Assignee</label>
                            <span id="detailAssignee" class="detail-value"></span>
                        </div>
                        <div class="detail-field">
                            <label>Story Points</label>
                            <span id="detailEstimate" class="detail-value"></span>
                        </div>
                        <div class="detail-field">
                            <label>Status</label>
                            <span id="detailStatus" class="detail-value"></span>
                        </div>
                        <div class="detail-field">
                            <label>Labels</label>
                            <span id="detailLabels" class="detail-value"></span>
                        </div>
                        <div class="detail-field">
                            <label>Epic Link</label>
                            <span id="detailEpic" class="detail-value"></span>
                        </div>
                        <div class="detail-field">
                            <label>Due Date</label>
                            <span id="detailDueDate" class="detail-value"></span>
                        </div>
                        <div class="detail-field">
                            <label>Rank</label>
                            <span id="detailRank" class="detail-value"></span>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </main>

    <!-- Settings Panel -->
    <div class="settings-panel" id="settingsPanel">
        <div class="settings-header">
            <h2>Board Settings</h2>
            <button class="close-btn" id="closeSettings">&times;</button>
        </div>
        <div class="settings-content">
            <div class="settings-section">
                <h3>Board Configuration</h3>
                <div class="form-group">
                    <label for="projectKey">Project Key</label>
                    <input type="text" id="projectKey" value="PROJ" maxlength="10">
                </div>
                <div class="form-group">
                    <label for="issueCounter">Next Issue Number</label>
                    <input type="number" id="issueCounter" value="1" min="1">
                </div>
            </div>
            <div class="settings-section">
                <h3>Column Management</h3>
                <div id="columnSettings"></div>
                <button class="btn btn-secondary btn-sm" id="addColumnSettings">+ Add Column</button>
            </div>
            <div class="settings-section">
                <h3>Issue Types</h3>
                <div class="checkbox-group">
                    <label><input type="checkbox" checked data-type="story"> Story</label>
                    <label><input type="checkbox" checked data-type="bug"> Bug</label>
                    <label><input type="checkbox" checked data-type="task"> Task</label>
                    <label><input type="checkbox" checked data-type="epic"> Epic</label>
                    <label><input type="checkbox" checked data-type="subtask"> Sub-task</label>
                </div>
            </div>
            <div class="settings-section">
                <h3>Display Options</h3>
                <div class="checkbox-group">
                    <label><input type="checkbox" id="showAvatars" checked> Show Avatars</label>
                    <label><input type="checkbox" id="showPriority" checked> Show Priority</label>
                    <label><input type="checkbox" id="showLabels" checked> Show Labels</label>
                    <label><input type="checkbox" id="showEstimates" checked> Show Estimates</label>
                    <label><input type="checkbox" id="showDueDate"> Show Due Date</label>
                </div>
            </div>
            <div class="settings-section">
                <h3>Theme</h3>
                <div class="theme-options">
                    <label><input type="radio" name="theme" value="light" checked> Light</label>
                    <label><input type="radio" name="theme" value="dark"> Dark</label>
                </div>
            </div>
        </div>
    </div>

    <!-- Issue Modal -->
    <div class="modal" id="issueModal">
        <div class="modal-content">
            <div class="modal-header">
                <h2 id="modalTitle">Create Issue</h2>
                <button class="close-btn" id="closeModal">&times;</button>
            </div>
            <div class="modal-body">
                <div class="form-row">
                    <div class="form-group">
                        <label for="issueType">Issue Type</label>
                        <select id="issueType">
                            <option value="story">Story</option>
                            <option value="bug">Bug</option>
                            <option value="task">Task</option>
                            <option value="epic">Epic</option>
                            <option value="subtask">Sub-task</option>
                        </select>
                    </div>
                    <div class="form-group">
                        <label for="issuePriority">Priority</label>
                        <select id="issuePriority">
                            <option value="highest">Highest</option>
                            <option value="high">High</option>
                            <option value="medium" selected>Medium</option>
                            <option value="low">Low</option>
                            <option value="lowest">Lowest</option>
                        </select>
                    </div>
                </div>
                <div class="form-group">
                    <label for="issueSummary">Summary *</label>
                    <input type="text" id="issueSummary" required placeholder="Enter issue summary">
                </div>
                <div class="form-group">
                    <label for="issueDescription">Description</label>
                    <textarea id="issueDescription" rows="4" placeholder="Enter description..."></textarea>
                </div>
                <div class="form-row">
                    <div class="form-group">
                        <label for="issueAssignee">Assignee</label>
                        <select id="issueAssignee">
                            <option value="">Unassigned</option>
                            <option value="john">John Doe</option>
                            <option value="jane">Jane Smith</option>
                            <option value="bob">Bob Johnson</option>
                            <option value="alice">Alice Williams</option>
                        </select>
                    </div>
                    <div class="form-group">
                        <label for="issueComponent">Component</label>
                        <select id="issueComponent">
                            <option value="">None</option>
                            <option value="Internal">Internal</option>
                            <option value="Client">Client</option>
                            <option value="Service">Service</option>
                        </select>
                    </div>
                </div>
                <div class="form-row">
                    <div class="form-group">
                        <label for="issueEstimate">Story Points</label>
                        <select id="issueEstimate">
                            <option value="">None</option>
                            <option value="1">1</option>
                            <option value="2">2</option>
                            <option value="3">3</option>
                            <option value="5">5</option>
                            <option value="8">8</option>
                            <option value="13">13</option>
                            <option value="21">21</option>
                        </select>
                    </div>
                    <div class="form-group">
                        <label for="issueDueDate">Due Date</label>
                        <input type="date" id="issueDueDate">
                    </div>
                </div>
                <div class="form-group">
                    <label for="issueEpic">Epic Link</label>
                    <select id="issueEpic">
                        <option value="">None</option>
                    </select>
                </div>
                <div class="form-group">
                    <label for="issueLabels">Labels</label>
                    <input type="text" id="issueLabels" placeholder="Enter labels (comma separated)">
                </div>
                <div class="form-group">
                    <label for="issueColumn">Column</label>
                    <select id="issueColumn"></select>
                </div>
            </div>
            <div class="modal-footer">
                <button class="btn btn-secondary" id="cancelIssue">Cancel</button>
                <button class="btn btn-danger" id="deleteIssue" style="display: none;">Delete</button>
                <button class="btn btn-primary" id="saveIssue">Create Issue</button>
            </div>
        </div>
    </div>

    <!-- Column Modal -->
    <div class="modal" id="columnModal">
        <div class="modal-content modal-sm">
            <div class="modal-header">
                <h2 id="columnModalTitle">Add Column</h2>
                <button class="close-btn" id="closeColumnModal">&times;</button>
            </div>
            <div class="modal-body">
                <div class="form-group">
                    <label for="columnName">Column Name *</label>
                    <input type="text" id="columnName" required placeholder="e.g., In Review">
                </div>
                <div class="form-group">
                    <label for="columnWip">WIP Limit (0 = unlimited)</label>
                    <input type="number" id="columnWip" min="0" value="0">
                </div>
                <div class="form-group">
                    <label for="columnColor">Column Color</label>
                    <input type="color" id="columnColor" value="#0052CC">
                </div>
            </div>
            <div class="modal-footer">
                <button class="btn btn-secondary" id="cancelColumn">Cancel</button>
                <button class="btn btn-danger" id="deleteColumn" style="display: none;">Delete</button>
                <button class="btn btn-primary" id="saveColumn">Add Column</button>
            </div>
        </div>
    </div>

    <!-- Overlay -->
    <div class="overlay" id="overlay"></div>

    <!-- Toast Container -->
    <div class="toast-container" id="toastContainer"></div>

    <script src="app.js"></script>
</body>
</html>
